# üì± Phone Auth System - –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É

–°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–æ –Ω–æ–º–µ—Ä—É —Ç–µ–ª–µ—Ñ–æ–Ω–∞ —Å —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–æ–π, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –Ω–∞ Django –∏ Django REST Framework.

## üåü –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- ‚úÖ **–î–≤–æ–π–Ω–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** - REST API + –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤ –æ–¥–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ
- ‚úÖ **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ SMS** - –î–≤—É—Ö—ç—Ç–∞–ø–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –±–µ–∑ –ø–∞—Ä–æ–ª–µ–π
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è** - –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—Ö–æ–¥–µ
- ‚úÖ **–†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞** - –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∏–Ω–≤–∞–π—Ç-–∫–æ–¥—ã –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤
- ‚úÖ **REST API** - –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–µ API –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö –∏ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- ‚úÖ **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** - –ì–æ—Ç–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞ Django Templates —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º –¥–∏–∑–∞–π–Ω–æ–º
- ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - Token-based –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- ‚úÖ **–ì–æ—Ç–æ–≤—ã–µ —Ç–µ—Å—Ç—ã** - Postman –∫–æ–ª–ª–µ–∫—Ü–∏—è –∏ Python —Ç–µ—Å—Ç—ã
- ‚úÖ **ReDoc –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- ‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - –ü–æ–¥—Ä–æ–±–Ω–∞—è API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –ø—Ä–∏–º–µ—Ä—ã

## üéØ –î–≤–∞ —Å–ø–æ—Å–æ–±–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### üì± REST API - –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
```bash
# –û—Ç–ø—Ä–∞–≤–∫–∞ SMS-–∫–æ–¥–∞
POST /api/users/send-code/
# –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –∫–æ–¥–∞  
POST /api/users/verify-code/
# –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è
GET /api/users/profile/
# –ê–∫—Ç–∏–≤–∞—Ü–∏—è –∏–Ω–≤–∞–π—Ç–∞
POST /api/users/activate-invite/
```

### üåê –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å - –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–∞
```bash
# –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
GET /users/
# –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∫–æ–¥–∞
GET /users/verify/
# –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
GET /users/profile/
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
git clone <repository-url>
cd phone_auth_system

# –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
python -m venv venv
source venv/bin/activate  # Linux/Mac
# –∏–ª–∏
venv\Scripts\activate     # Windows

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
python manage.py makemigrations
python manage.py migrate

# –°–æ–∑–¥–∞–Ω–∏–µ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
python manage.py createsuperuser

# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
python manage.py runserver
```

### –î–µ–ø–ª–æ–π –Ω–∞ PythonAnywhere

```bash
# –í Bash –∫–æ–Ω—Å–æ–ª–∏ PythonAnywhere
cd ~
git clone <repository-url> phone_auth_system
cd phone_auth_system

# –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
mkvirtualenv --python=/usr/bin/python3.10 phoneauth
workon phoneauth

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
python manage.py migrate
python manage.py collectstatic --noinput
```

## üìã –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **Python**: 3.8+
- **Django**: 4.2.7
- **Django REST Framework**: 3.14.0
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: SQLite (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) / PostgreSQL (–ø—Ä–æ–¥–∞–∫—à–µ–Ω)

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
PHONE_AUTH_SYSTEM/
‚îú‚îÄ‚îÄ auth_project/                    # –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Django
‚îÇ   ‚îú‚îÄ‚îÄ __pycache__/                # –ö—ç—à Python —Ñ–∞–π–ª–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py                 # –ü–∞–∫–µ—Ç Python
‚îÇ   ‚îú‚îÄ‚îÄ asgi.py                     # ASGI –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ settings.py                 # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ urls.py                     # –ì–ª–∞–≤–Ω—ã–µ URL –º–∞—Ä—à—Ä—É—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ wsgi.py                     # WSGI –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ users/                          # –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ migrations/                 # –ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ static/users/              # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ css/                   # CSS —Å—Ç–∏–ª–∏
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ style.css          # –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç–∏–ª–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ js/                    # JavaScript —Ñ–∞–π–ª—ã
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ app.js             # –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ JS
‚îÇ   ‚îú‚îÄ‚îÄ templates/users/           # HTML —à–∞–±–ª–æ–Ω—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ base.html              # –ë–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.html             # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ profile.html           # –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ—Ñ–∏–ª—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ verify.html            # –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py                # –ü–∞–∫–µ—Ç Python
‚îÇ   ‚îú‚îÄ‚îÄ admin.py                   # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–¥–º–∏–Ω–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ apps.py                    # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ models.py                  # –ú–æ–¥–µ–ª–∏ User –∏ PhoneVerification
‚îÇ   ‚îú‚îÄ‚îÄ test_api.py                # –¢–µ—Å—Ç—ã API
‚îÇ   ‚îú‚îÄ‚îÄ tests.py                   # –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ—Å—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ urls.py                    # URL –º–∞—Ä—à—Ä—É—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ views.py                   # API views (REST Framework)
‚îÇ   ‚îî‚îÄ‚îÄ web_views.py               # Web interface views (Django Templates)
‚îú‚îÄ‚îÄ venv/                          # –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ Python
‚îú‚îÄ‚îÄ db.sqlite3                     # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö SQLite
‚îú‚îÄ‚îÄ debug.log                      # –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ manage.py                      # Django management –∫–æ–º–∞–Ω–¥—ã
‚îú‚îÄ‚îÄ phone_auth_system.tar.gz       # –ê—Ä—Ö–∏–≤ –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ Phone Auth System.postman_collection.json  # Postman –∫–æ–ª–ª–µ–∫—Ü–∏—è
‚îú‚îÄ‚îÄ README.md                      # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
‚îî‚îÄ‚îÄ requirements.txt               # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
```

### üéØ –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

#### **auth_project/** - –û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- `settings.py` - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Django, –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö, —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
- `urls.py` - –ì–ª–∞–≤–Ω—ã–π —Ä–æ—É—Ç–∏–Ω–≥, –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- `wsgi.py` - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞

#### **users/** - –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- `models.py` - –ú–æ–¥–µ–ª–∏ `User` –∏ `PhoneVerification`
- `views.py` - REST API endpoints –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- `web_views.py` - –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–∞
- `urls.py` - –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è API –∏ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü

#### **–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã**
- `static/users/css/style.css` - –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ç–∏–ª–∏ —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞–º–∏
- `static/users/js/app.js` - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º

#### **–®–∞–±–ª–æ–Ω—ã**
- `base.html` - –ë–∞–∑–æ–≤—ã–π —à–∞–±–ª–æ–Ω —Å –æ–±—â–∏–º–∏ —Å—Ç–∏–ª—è–º–∏
- `index.html` - –§–æ—Ä–º–∞ –≤–≤–æ–¥–∞ –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞
- `verify.html` - –§–æ—Ä–º–∞ –≤–≤–æ–¥–∞ SMS-–∫–æ–¥–∞
- `profile.html` - –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ —Ä–µ—Ñ–µ—Ä–∞–ª—ã

#### **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**
- `db.sqlite3` - SQLite –±–∞–∑–∞ —Å —Ç–∞–±–ª–∏—Ü–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–π
- `migrations/` - –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å—Ö–µ–º—ã –ë–î

## üîó API Endpoints

### Base URLs
- **–õ–æ–∫–∞–ª—å–Ω–æ**: `http://127.0.0.1:8000`
- **–ü—Ä–æ–¥–∞–∫—à–µ–Ω**: `https://yourdomain.pythonanywhere.com`

### üì± API –º–∞—Ä—à—Ä—É—Ç—ã

| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ | –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è |
|-------|----------|----------|----------------|
| `POST` | `/api/users/send-code/` | –û—Ç–ø—Ä–∞–≤–∫–∞ SMS-–∫–æ–¥–∞ | –ù–µ—Ç |
| `POST` | `/api/users/verify-code/` | –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –∫–æ–¥–∞ | –ù–µ—Ç |
| `GET` | `/api/users/profile/` | –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è | Token |
| `POST` | `/api/users/activate-invite/` | –ê–∫—Ç–∏–≤–∞—Ü–∏—è –∏–Ω–≤–∞–π—Ç-–∫–æ–¥–∞ | Token |

### üåê –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

| URL | –°—Ç—Ä–∞–Ω–∏—Ü–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –§–∞–π–ª |
|-----|----------|----------|------|
| `/` | –ì–ª–∞–≤–Ω–∞—è | –í–≤–æ–¥ –Ω–æ–º–µ—Ä–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞ | `templates/users/index.html` |
| `/users/verify/` | –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è | –í–≤–æ–¥ SMS-–∫–æ–¥–∞ | `templates/users/verify.html` |
| `/users/profile/` | –ü—Ä–æ—Ñ–∏–ª—å | –ü—Ä–æ—Ñ–∏–ª—å –∏ —Ä–µ—Ñ–µ—Ä–∞–ª—ã | `templates/users/profile.html` |

### üìö API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

| URL | –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----|-----------|----------|
| `/api/docs/` | **ReDoc** | –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API |
| `/api/swagger/` | **Swagger UI** | –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ |
| `/api/schema/` | **OpenAPI Schema** | JSON —Å—Ö–µ–º–∞ API |
| `/api/` | **API Info** | –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ API |

| –§–∞–π–ª | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------|------------|
| `Phone Auth System.postman_collection.json` | –ì–æ—Ç–æ–≤–∞—è Postman –∫–æ–ª–ª–µ–∫—Ü–∏—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API |
| `test_api.py` | Python —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API |
| `debug.log` | –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Django |
### üìÅ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã

| –§–∞–π–ª | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------|------------|
| `Phone Auth System.postman_collection.json` | –ì–æ—Ç–æ–≤–∞—è Postman –∫–æ–ª–ª–µ–∫—Ü–∏—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API |
| `test_api.py` | Python —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API |
| `debug.log` | –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Django |
| `phone_auth_system.tar.gz` | –ê—Ä—Ö–∏–≤ –ø—Ä–æ–µ–∫—Ç–∞ –¥–ª—è —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è |

## üìñ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### üéØ ReDoc - –û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
**URL**: `https://yourdomain.com/api/docs/`

–ö—Ä–∞—Å–∏–≤–∞—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å:
- üìã –ü–æ–¥—Ä–æ–±–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º –≤—Å–µ—Ö endpoints
- üé® –ü—Ä–∏–º–µ—Ä–∞–º–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤
- üîê –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ–± –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- üìä –°—Ö–µ–º–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö
- üè∑Ô∏è –¢–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º

### ‚ö° Swagger UI - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
**URL**: `https://yourdomain.com/api/swagger/`

–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API:
- üß™ –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –ø—Ä—è–º–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- üîë –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- üìù –í–∞–ª–∏–¥–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
- üìà –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

### üîß OpenAPI Schema
**URL**: `https://yourdomain.com/api/schema/`

JSON —Å—Ö–µ–º–∞ –¥–ª—è:
- üõ†Ô∏è –ì–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö SDK
- üìö –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –¥—Ä—É–≥–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏
- üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- üìã –í–∞–ª–∏–¥–∞—Ü–∏–∏ API –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤

## üìñ –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

### 1. –û—Ç–ø—Ä–∞–≤–∫–∞ SMS-–∫–æ–¥–∞

**Endpoint**: `POST /api/users/send-code/`

–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç 4-–∑–Ω–∞—á–Ω—ã–π –∫–æ–¥ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞.

#### –ó–∞–ø—Ä–æ—Å
```json
{
    "phone_number": "+375294567892"
}
```

#### –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200)
```json
{
    "message": "–ö–æ–¥ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ –Ω–æ–º–µ—Ä",
    "phone_number": "+375294567892",
    "verification_code": "1234"
}
```

#### –û—à–∏–±–∫–∏
- **400 Bad Request**: –ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –Ω–µ —É–∫–∞–∑–∞–Ω

```json
{
    "error": "–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω"
}
```

#### –ü—Ä–∏–º–µ—Ä cURL
```bash
curl -X POST http://127.0.0.1:8000/api/users/send-code/ \
  -H "Content-Type: application/json" \
  -d '{"phone_number": "+375294567892"}'
```

### 2. –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –∫–æ–¥–∞

**Endpoint**: `POST /api/users/verify-code/`

–ü—Ä–æ–≤–µ—Ä—è–µ—Ç SMS-–∫–æ–¥ –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é/—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

#### –ó–∞–ø—Ä–æ—Å
```json
{
    "phone_number": "+375294567892",
    "verification_code": "1234"
}
```

#### –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200)
```json
{
    "message": "–£—Å–ø–µ—à–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è",
    "token": "abc123def456789...",
    "user_id": 1,
    "phone_number": "+375294567892",
    "invite_code": "ABC123",
    "is_new_user": true
}
```

#### –û—à–∏–±–∫–∏
- **400 Bad Request**: –ù–µ–≤–µ—Ä–Ω—ã–π –∫–æ–¥ –∏–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ

```json
{
    "error": "–ù–µ–≤–µ—Ä–Ω—ã–π –∫–æ–¥"
}
```

#### –ü—Ä–∏–º–µ—Ä cURL
```bash
curl -X POST http://127.0.0.1:8000/api/users/verify-code/ \
  -H "Content-Type: application/json" \
  -d '{"phone_number": "+375294567892", "verification_code": "1234"}'
```

### 3. –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è

**Endpoint**: `GET /api/users/profile/`

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –∏ –µ–≥–æ —Ä–µ—Ñ–µ—Ä–∞–ª–∞—Ö.

#### –ó–∞–≥–æ–ª–æ–≤–∫–∏
```
Authorization: Token YOUR_TOKEN_HERE
```

#### –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200)
```json
{
    "user_id": 1,
    "phone_number": "+375294567892",
    "invite_code": "ABC123",
    "activated_invite_code": "XYZ789",
    "referrals": [
        {
            "phone_number": "+375291234567",
            "joined_date": "2025-07-26T10:30:00Z"
        }
    ],
    "referrals_count": 1
}
```

#### –û—à–∏–±–∫–∏
- **401 Unauthorized**: –¢–æ–∫–µ–Ω –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω –∏–ª–∏ –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω

```json
{
    "detail": "Authentication credentials were not provided."
}
```

#### –ü—Ä–∏–º–µ—Ä cURL
```bash
curl -X GET http://127.0.0.1:8000/api/users/profile/ \
  -H "Authorization: Token YOUR_TOKEN_HERE"
```

### 4. –ê–∫—Ç–∏–≤–∞—Ü–∏—è –∏–Ω–≤–∞–π—Ç-–∫–æ–¥–∞

**Endpoint**: `POST /api/users/activate-invite/`

–ê–∫—Ç–∏–≤–∏—Ä—É–µ—Ç –∏–Ω–≤–∞–π—Ç-–∫–æ–¥ –¥—Ä—É–≥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

#### –ó–∞–≥–æ–ª–æ–≤–∫–∏
```
Authorization: Token YOUR_TOKEN_HERE
```

#### –ó–∞–ø—Ä–æ—Å
```json
{
    "invite_code": "ABC123"
}
```

#### –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç (200)
```json
{
    "message": "–ò–Ω–≤–∞–π—Ç-–∫–æ–¥ —É—Å–ø–µ—à–Ω–æ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω",
    "activated_invite_code": "ABC123",
    "inviter_phone": "+375294567892"
}
```

#### –û—à–∏–±–∫–∏
- **400 Bad Request**: –†–∞–∑–ª–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

```json
{
    "error": "–ò–Ω–≤–∞–π—Ç-–∫–æ–¥ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç"
}
```

```json
{
    "error": "–í—ã —É–∂–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–ª–∏ –∏–Ω–≤–∞–π—Ç-–∫–æ–¥: XYZ789"
}
```

```json
{
    "error": "–ù–µ–ª—å–∑—è –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω–≤–∞–π—Ç-–∫–æ–¥"
}
```

#### –ü—Ä–∏–º–µ—Ä cURL
```bash
curl -X POST http://127.0.0.1:8000/api/users/activate-invite/ \
  -H "Authorization: Token YOUR_TOKEN_HERE" \
  -H "Content-Type: application/json" \
  -d '{"invite_code": "ABC123"}'
```

## üìä –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

### User Model
```python
class User(AbstractUser):
    phone_number = CharField(max_length=15, unique=True)          # –ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞
    invite_code = CharField(max_length=6, unique=True)            # –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–Ω–≤–∞–π—Ç-–∫–æ–¥
    activated_invite_code = CharField(max_length=6, null=True)    # –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥
    created_at = DateTimeField(auto_now_add=True)                 # –î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
```

### PhoneVerification Model
```python
class PhoneVerification(models.Model):
    phone_number = CharField(max_length=15)         # –ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞
    verification_code = CharField(max_length=4)     # SMS-–∫–æ–¥
    created_at = DateTimeField(auto_now_add=True)   # –í—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è
    is_verified = BooleanField(default=False)       # –°—Ç–∞—Ç—É—Å –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
```

## üîí –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

–°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **Token Authentication** –∏–∑ Django REST Framework.

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ SMS-–∫–æ–¥ —á–µ—Ä–µ–∑ `/api/users/send-code/`
2. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –∫–æ–¥ —á–µ—Ä–µ–∑ `/api/users/verify-code/`
3. –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –≤ –æ—Ç–≤–µ—Ç–µ

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
–î–æ–±–∞–≤—å—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –≤ –≤—Å–µ –∑–∞—â–∏—â–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã:
```
Authorization: Token YOUR_TOKEN_HERE
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞–º–∏
```python
# –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
from rest_framework.authtoken.models import Token
token = Token.objects.get(user=user)

# –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ç–æ–∫–µ–Ω–∞
token = Token.objects.create(user=user)

# –£–¥–∞–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ (logout)
token.delete()
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### Postman –∫–æ–ª–ª–µ–∫—Ü–∏—è

–í –ø—Ä–æ–µ–∫—Ç–µ –≤–∫–ª—é—á–µ–Ω–∞ –≥–æ—Ç–æ–≤–∞—è Postman –∫–æ–ª–ª–µ–∫—Ü–∏—è —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤:

1. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ `Phone Auth System.postman_collection.json`
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `base_url` –Ω–∞ –≤–∞—à —Å–µ—Ä–≤–µ—Ä
3. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∑–∞–ø—Ä–æ—Å—ã –≤ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã

```bash
# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
python manage.py test

# –ó–∞–ø—É—Å–∫ —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º
pip install coverage
coverage run --source='.' manage.py test
coverage report
```

### –¢–µ—Å—Ç–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π

```python
import requests

BASE_URL = 'http://127.0.0.1:8000'

# 1. –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–¥–∞
response = requests.post(f'{BASE_URL}/api/users/send-code/', 
                        json={'phone_number': '+375294567892'})
code = response.json()['verification_code']

# 2. –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è
response = requests.post(f'{BASE_URL}/api/users/verify-code/', 
                        json={'phone_number': '+375294567892', 
                              'verification_code': code})
token = response.json()['token']

# 3. –ü—Ä–æ—Ñ–∏–ª—å
headers = {'Authorization': f'Token {token}'}
response = requests.get(f'{BASE_URL}/api/users/profile/', headers=headers)
profile = response.json()
```

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### PythonAnywhere

1. **–ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–¥–∞**:
```bash
git clone <repository-url> phone_auth_system
cd phone_auth_system
```

2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è**:
```bash
mkvirtualenv --python=/usr/bin/python3.10 phoneauth
workon phoneauth
pip install -r requirements.txt
```

3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö**:
```bash
python manage.py migrate
python manage.py collectstatic --noinput
```

4. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Web App**:
   - Source code: `/home/username/phone_auth_system`
   - WSGI file: –û–±–Ω–æ–≤–∏—Ç—å –ø—É—Ç–∏ –∫ –ø—Ä–æ–µ–∫—Ç—É
   - Static files: `/home/username/phone_auth_system/static`

### Docker (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

```dockerfile
FROM python:3.10-slim

WORKDIR /app
COPY requirements.txt .
RUN pip install -r requirements.txt

COPY . .
RUN python manage.py collectstatic --noinput

EXPOSE 8000
CMD ["python", "manage.py", "runserver", "0.0.0.0:8000"]
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∏

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# .env —Ñ–∞–π–ª
SECRET_KEY=your-secret-key-here
DEBUG=False
ALLOWED_HOSTS=yourdomain.com,localhost
DATABASE_URL=postgres://user:pass@host:port/db
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

```python
# settings.py
SECURE_BROWSER_XSS_FILTER = True
SECURE_CONTENT_TYPE_NOSNIFF = True
X_FRAME_OPTIONS = 'DENY'
SECURE_HSTS_SECONDS = 3600
```

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –õ–æ–≥–∏ Django

```python
LOGGING = {
    'version': 1,
    'disable_existing_loggers': False,
    'handlers': {
        'file': {
            'level': 'INFO',
            'class': 'logging.FileHandler',
            'filename': 'app.log',
        },
    },
    'loggers': {
        'django': {
            'handlers': ['file'],
            'level': 'INFO',
            'propagate': True,
        },
    },
}
```

### –ú–µ—Ç—Ä–∏–∫–∏ API

- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–π
- –£—Å–ø–µ—à–Ω–æ—Å—Ç—å –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ SMS
- –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤
- –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ API

## ü§ù –°–æ–¥–µ–π—Å—Ç–≤–∏–µ –ø—Ä–æ–µ–∫—Ç—É

1. –§–æ—Ä–∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
2. –°–æ–∑–¥–∞–Ω–∏–µ feature –≤–µ—Ç–∫–∏
3. –ö–æ–º–º–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π
4. Push –≤ –≤–µ—Ç–∫—É
5. –°–æ–∑–¥–∞–Ω–∏–µ Pull Request
